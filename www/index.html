<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=medium-dpi" />
        <title>Home</title>
        <link rel="stylesheet" href="css/gadget.css" type="text/css" />
        <link rel="stylesheet" href="css/home.css" type="text/css" />
        <link rel="stylesheet" href="css/buttons.css" type="text/css" />
    </head>
    <body>
        <div id="content" class="content">
            <script type="text/template" id="splash-template">
                <div id="splashHeader">

                </div>
                <div id="splashImage">
                    <img class="splash" src="img/splash.png" />
                </div>
                <div id="splashText">
                    <span id="splashSpan" class="splash"><%= message %></span>
                </div>
            </script>
            <script type="text/template" id="home-template">
                <div id="homeHeader" class="homeHeader">
                    <div id="locationDiv" class="homeDiv">
                    <span id="locationSpan" class="locationSpan">
                        <%= currentUtm.Zone + ", " + currentUtm.Easting + "E, " + currentUtm.Northing + "N" %>
                    </span>
                    </div>
                </div>

                <div id="ActionDiv" class="actionDiv">
                    <img id="homeImage" src="img/greenTree.gif"/>
                </div>

                <div id="homeFooter" class="homeFooter">
                    <div id="distanceDiv" class="homeDiv">
                        <span id="distanceSpan" class="message">
                            <% if(relativePosition.Found) { %>
                            <%=relativePosition.Distance + " (&plusmn" + currentLatLon.Accuracy + ") meters " + relativePosition.Bearing%>
                            <% } else { %>
                            <%="No sites found in zone " + currentUtm.Zone%>
                            <% } %>
                        </span>
                    </div>

                    <div id="siteDiv" class="homeDiv siteDiv">
                        <span id="siteSpan" class="siteSpan">
                            <% if(site.quad !== '') { %>
                            <%= site.quad + ":" + site.site_id %>
                            <% } else { %>
                            <%= "No Site" %>
                            <% } %>
                        </span>
                    </div>

                    <div id="messageDiv" class="homeDiv">
                        <input type="button" id="btnHomeExtras">
                        <span id="messageSpan"><%= message %></span>
                    </div>
                </div>
            </script>
            <script type="text/template" id="placement-template">
                <div id="placementTop" class="formHeader">
                    <span class="message">Confirm placement of</span><br />
                    <select id="selectTraptype">
                        <option selected="selected"><%= site.trap_type%></option>
                        <option><%= site.trap_type === 'Delta' ? 'Milk Carton' : 'Delta'%></option>
                    </select>
                    <span class="message">at site <%=site.quad + ':' + site.site_id%></span><br />
                    <span class="message"><%= currentUtm.Easting + 'E ' + currentUtm.Northing + 'N' %></span>
                </div>
                <div id="placementBottom" class="formFooter">
                    <input type="button" id="btnPlacementOk" class="gadgetButton" value="Place Trap">
                    <input type="button" id="btnPlacementOmit" class="gadgetButton" value="Omit Site">
                    <input type="button" id="btnPlacementCancel" class="cancelButton" value="Cancel">
                </div>
            </script>
            <script type="text/template" id="confirm-template">
                <div id="confirmHeader" class="formHeader">
                    <span id="confirmMessage" class="message">
                        Confirm placement of <%=operation.traptype%> at
                        site <%=site.quad%>:<%=site.site_id%>,
                        coordinates <%=operation.easting%> E, <%=operation.northing%> N?
                    </span>
                </div>
                <div id="confirmFooter" class="formFooter">
                    <input type="button" id="btnConfirmOk" class="gadgetButton" value="Ok">
                    <input type="button" id="btnConfirmCancel" class="cancelButton" value="Cancel">
                </div>
            </script>
            <script type="text/template" id="caution-template">
                <div id="cautionImage">
                    <img src="img/caution.png" />
                    <span id="cautionSpan">CAUTION</span>
                </div>

                <div id="cautionHeader" class="formHeader">
                    <span id="cautionMessage" class="message">
                        You are <%=relativePosition.DistanceOutside %> meters outside the target circle.  Proceed?
                    </span>
                </div>

                <div id="cautionFooter" class="formFooter">
                    <input type="button" id="btnCautionOk" class="gadgetButton" value="Ok">
                    <input type="button" id="btnCautionCancel" class="cancelButton" value="Cancel">
                </div>
            </script>
            <script type="text/template" id="extras-template">
                <div id="extrasFooter" class="formFooter">
                    <input type="button" id="btnExtrasLoadLocal" class="gadgetButton" value="Load Sites">
                    <input type="button" id="btnExtrasDownload" class="gadgetButton" value="Download Sites">
                    <input type="button" id="btnExtrasUpload" class="gadgetButton" value="Upload">
					<input type="button" id="btnExtrasHistory" class="gadgetButton" value="History">
                    <input type="button" id="btnExtrasCancel" class="cancelButton" value="Cancel">
                </div>
            </script>
			<script type="text/template" id="history-template">
                <div id="historyHeader" class="formHeader">
                    <span id="historyMessage" class="message">
                    There are <%=transactions%> transactions.
                    </span>
                </div>
                <div id="historyFooter" class="formFooter">
                    <% if(transactions > 5) { %>
                    <input type="button" id="btnHistoryNext" class="gadgetButton" value="Next">
                    <% } %>
                    <input type="button" id="btnHistoryClose" class="cancelButton" value="Exit">
                </div>
            </script>
        </div>

        <script type="text/javascript" src="phonegap.js"></script>
        <!--<script type="text/javascript" src="main.min.js"></script>-->
        <script type="text/javascript" data-main="js/Main" src="js/lib/require.js"></script>

    </body>
</html>
